#pragma checksum "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d2e71365443cc87f2543690c3017a0719b90b139"
// <auto-generated/>
#pragma warning disable 1591
namespace SelesMiudeza.Pages.Configuracao
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using SelesMiudeza;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using SelesMiudeza.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using SelesMiudeza.Data.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Projects\ComercioSeles\SelesMiudeza\_Imports.razor"
using SelesMiudeza.Model;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/adicionacategoria")]
    public partial class AdicionaCategoria : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3>Adiciona Categoria</h3>\r\n\r\n");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(1);
            __builder.AddAttribute(2, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 8 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                 categoria

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(3, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 8 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                           AdicionarCategoria

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(4, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(5, "\r\n    ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(6);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(7, "\r\n    ");
                __builder2.OpenElement(8, "div");
                __builder2.AddAttribute(9, "class", "form-group");
                __builder2.AddMarkupContent(10, "\r\n        ");
                __builder2.AddMarkupContent(11, "<label>Nome</label>\r\n        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(12);
                __builder2.AddAttribute(13, "class", "form-control col-6");
                __builder2.AddAttribute(14, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 12 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                categoria.Nome

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(15, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => categoria.Nome = __value, categoria.Nome))));
                __builder2.AddAttribute(16, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => categoria.Nome));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(17, "\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(18, "\r\n    ");
                __builder2.OpenElement(19, "div");
                __builder2.AddAttribute(20, "class", "form-group");
                __builder2.AddMarkupContent(21, "\r\n        ");
                __builder2.AddMarkupContent(22, "<label>Descrição</label>\r\n        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(23);
                __builder2.AddAttribute(24, "class", "form-control col-6");
                __builder2.AddAttribute(25, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 16 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                categoria.Descricao

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(26, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => categoria.Descricao = __value, categoria.Descricao))));
                __builder2.AddAttribute(27, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => categoria.Descricao));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(28, "\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(29, "\r\n    ");
                __builder2.OpenElement(30, "button");
                __builder2.AddAttribute(31, "type", "submit");
                __builder2.AddAttribute(32, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 18 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                    ClosePopup

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddContent(33, "Gravar");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(34, "\r\n");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(35, "\r\n\r\n");
            __builder.AddMarkupContent(36, "<h3>Lista de categorias</h3>\r\n<br>\r\n");
            __builder.OpenElement(37, "table");
            __builder.AddAttribute(38, "class", "table");
            __builder.AddMarkupContent(39, "\r\n    ");
            __builder.AddMarkupContent(40, "<thead>\r\n        <tr>\r\n            <th>Id</th>\r\n            <th>Nome</th>\r\n            <th>Descrição</th>\r\n            <th>Opções</th>\r\n        </tr>\r\n    </thead>\r\n    ");
            __builder.OpenElement(41, "tbody");
            __builder.AddMarkupContent(42, "\r\n");
#nullable restore
#line 33 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
         foreach (Categoria cat in categorias)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(43, "            ");
            __builder.OpenElement(44, "tr");
            __builder.AddMarkupContent(45, "\r\n                ");
            __builder.OpenElement(46, "td");
            __builder.AddContent(47, 
#nullable restore
#line 36 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                     cat.IdCategoria

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n                ");
            __builder.OpenElement(49, "td");
            __builder.AddContent(50, 
#nullable restore
#line 37 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                     cat.Nome

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n                ");
            __builder.OpenElement(52, "td");
            __builder.AddContent(53, 
#nullable restore
#line 38 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                     cat.Descricao

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "\r\n                ");
            __builder.OpenElement(55, "td");
            __builder.OpenElement(56, "button");
            __builder.AddAttribute(57, "class", "btn btn-warning");
            __builder.AddAttribute(58, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 39 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                                              (() => OpenPopUp(cat.IdCategoria))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(59, "Editar");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(60, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(61, "\r\n");
#nullable restore
#line 41 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(62, "    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n\r\n\r\n\r\n");
#nullable restore
#line 47 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
 if (@ShowModal)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(65, "    ");
            __builder.OpenElement(66, "div");
            __builder.AddAttribute(67, "class", "modal");
            __builder.AddAttribute(68, "tabindex", "-1");
            __builder.AddAttribute(69, "style", "display:block");
            __builder.AddAttribute(70, "role", "dialog");
            __builder.AddMarkupContent(71, "\r\n        ");
            __builder.OpenElement(72, "div");
            __builder.AddAttribute(73, "class", "modal-dialog");
            __builder.AddMarkupContent(74, "\r\n            ");
            __builder.OpenElement(75, "div");
            __builder.AddAttribute(76, "class", "modal-content");
            __builder.AddMarkupContent(77, "\r\n                ");
            __builder.OpenElement(78, "div");
            __builder.AddAttribute(79, "class", "modal-header");
            __builder.AddMarkupContent(80, "\r\n                    ");
            __builder.AddMarkupContent(81, "<h3 class=\"modal-title\">Categoria Incluída</h3>\r\n                    \r\n                    ");
            __builder.OpenElement(82, "button");
            __builder.AddAttribute(83, "type", "button");
            __builder.AddAttribute(84, "class", "close");
            __builder.AddAttribute(85, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 56 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                      ClosePopup

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(86, "\r\n                        X\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(87, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(88, "\r\n                ");
            __builder.OpenElement(89, "div");
            __builder.AddAttribute(90, "class", "modal-body");
            __builder.AddMarkupContent(91, "\r\n                    ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(92);
            __builder.AddAttribute(93, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 61 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                     categoria

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(94, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 61 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                                               EditaCategoria

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(95, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(96, "\r\n                        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(97);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(98, "\r\n                        ");
                __builder2.OpenElement(99, "div");
                __builder2.AddAttribute(100, "class", "form-group");
                __builder2.AddMarkupContent(101, "\r\n                            ");
                __builder2.AddMarkupContent(102, "<label>Nomes</label>\r\n                            ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(103);
                __builder2.AddAttribute(104, "class", "form-control col-6");
                __builder2.AddAttribute(105, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 65 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                                    categoriaEdit.Nome

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(106, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => categoriaEdit.Nome = __value, categoriaEdit.Nome))));
                __builder2.AddAttribute(107, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => categoriaEdit.Nome));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(108, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(109, "\r\n                        ");
                __builder2.OpenElement(110, "div");
                __builder2.AddAttribute(111, "class", "form-group");
                __builder2.AddMarkupContent(112, "\r\n                            ");
                __builder2.AddMarkupContent(113, "<label>Descrição</label>\r\n                            ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(114);
                __builder2.AddAttribute(115, "class", "form-control col-6");
                __builder2.AddAttribute(116, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 69 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                                    categoriaEdit.Descricao

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(117, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => categoriaEdit.Descricao = __value, categoriaEdit.Descricao))));
                __builder2.AddAttribute(118, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => categoriaEdit.Descricao));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(119, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(120, "\r\n                        ");
                __builder2.OpenElement(121, "button");
                __builder2.AddAttribute(122, "type", "submit");
                __builder2.AddAttribute(123, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 71 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
                                                        ClosePopup

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddContent(124, "Gravar");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(125, "\r\n                    ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(126, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(127, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(128, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(129, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(130, "\r\n");
#nullable restore
#line 78 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 80 "D:\Projects\ComercioSeles\SelesMiudeza\Pages\Configuracao\AdicionaCategoria.razor"
       
    Categoria categoria = new Categoria();
    Categoria categoriaEdit = new Categoria();
    List<Categoria> categorias = new List<Categoria>();
    bool ShowModal = false;


    protected override async Task OnInitializedAsync()
    {
        await CarregaCategorias();
        ShowModal = false;
    }


    async Task AdicionarCategoria()
    {
        await service.PostCategoriaAsync(categoria);
        await js.InvokeVoidAsync("alert", "Categoria incluída!");
        nav.NavigateTo("adicionacategoria", true);
    }


    async Task EditaCategoria()
    {
        var cat = new Categoria()
        {
            IdCategoria = categoriaEdit.IdCategoria,
            Nome = categoriaEdit.Nome,
            Descricao = categoriaEdit.Descricao
        };
        await service.UpdateCategoriaAsync(cat.IdCategoria, cat);
        await js.InvokeVoidAsync("alert", "Categoria alterada");
        Refresh();
    }

    async Task CarregaCategorias()
    {
        categorias = await service.GetCategoriaAsync();
    }

    void ClosePopup()
    {
        ShowModal = false;
    }

    async Task OpenPopUp(int Id)
    {
        ShowModal = true;
        categoriaEdit = await service.GetCategoriaAsync(Id);
    }

    void Refresh()
    {
        nav.NavigateTo("adicionacategoria", true);
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime js { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager nav { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private CategoriaService service { get; set; }
    }
}
#pragma warning restore 1591
